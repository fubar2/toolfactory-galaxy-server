<tool name="planemo_lint" id="planemo_lint" version="0.01">
  <!--Source in git at: https://github.com/fubar2/toolfactory-->
  <!--Created by admin@galaxy.org at 15/05/2021 06:15:23 using the Galaxy Tool Factory.-->
  <description>Runs Planemo lint on any toolshed.gz file</description>
  <requirements>
    <requirement version="0.74.3" type="package">planemo</requirement>
  </requirements>
  <stdio>
    <exit_code range="1:" level="fatal"/>
  </stdio>
  <version_command><![CDATA[echo "0.01"]]></version_command>
  <command><![CDATA[bash
$runme
$Toolshed_archive_to_be_linted
$lint_output]]></command>
  <configfiles>
    <configfile name="runme"><![CDATA[#raw

tar -xvf $1
TOOLNAME=`find . -name "*.xml"`
echo "TOOLNAME = $TOOLNAME" > $2
planemo lint $TOOLNAME >> $2
echo "End of report" >> $2

#end raw]]></configfile>
  </configfiles>
  <inputs>
    <param name="Toolshed_archive_to_be_linted" type="data" optional="false" label="Toolshed archive to be linted" help="" format="tgz,toolshed.gz" multiple="false"/>
  </inputs>
  <outputs>
    <data name="lint_output" format="txt" label="lint_output" hidden="false"/>
  </outputs>
  <tests>
    <test>
      <output name="lint_output" value="lint_output_sample" compare="diff" lines_diff="5"/>
      <param name="Toolshed_archive_to_be_linted" value="Toolshed_archive_to_be_linted_sample"/>
    </test>
  </tests>
  <help><![CDATA[

**What it Does**

ToolFactory demonstration script using bash to run planemo lint from a history tarball



------


Script::

    tar -xvf $1
    TOOLNAME=`find . -name "*.xml"`
    echo "TOOLNAME = $TOOLNAME" > $2
    planemo lint $TOOLNAME >> $2
    echo "End of report" >> $2

]]></help>
  <citations>
    <citation type="doi">10.1093/bioinformatics/bts573</citation>
  </citations>
</tool>

